1. Prerequisites:
- Qt 5.6.3 msvc2015 and Qt 5.6.1-1 android needed on Windows
- Qt 5.6.3 macosx and Qt 5.9.2 ios needed on Mac OS X
- JDK 8u144 needed on Windows and Mac OS X
- Android SDK r25.2.3 needed on Windows (maybe it works with r24.x >= r24.4, r25.x, r26.x): SDK Build-tools must be 25.x and Android 4.2.2 (API level 17)
- Android NDK r10e needed on Windows

- Ubuntu Qt 5:
Use ppa:beineri (https://launchpad.net/~beineri)
16.04 (xenial): sudo apt-add-repository ppa:beineri/opt-qt592-xenial
14.04 (trusty): sudo apt-add-repository ppa:beineri/opt-qt592-trusty
12.04 (precise): sudo apt-add-repository ppa:beineri/opt-qt563
> sudo apt-get update
> sudo apt-get install qt-latest qtcreator-latest
or
> sudo apt-get install qt59-meta-full qt59creator

- CentOS Qt 5:
Use EPEL repo
> yum install epel-release


- Windows environment variables for Java and Android:
JAVA_HOME C:\Program Files\Java\jdk1.8.0_144
ANDROID_NDK_ROOT C:\android\ndk-r10e
NDK_ROOT %ANDROID_NDK_ROOT%
ANDROID_HOME C:\android\sdk_r25.2.3
ANDROID_SDK_ROOT %ANDROID_HOME%
ANDROID_NDK_PLATFORM android-17

Add to PATH:
%JAVA_HOME%\bin
%JAVA_HOME%\jre\bin\server
%ANDROID_NDK_ROOT%
%ANDROID_HOME%\tools
%ANDROID_HOME%\platform-tools

- On Mac OS X create symlink /Library/Java/Home



2. Update version:
2.1 Search in files cppdevtk/common.pri and cppdevtk/include/cppdevtk/config/product_info.hpp
for CPPDEVTK_VERSION_MAJOR, CPPDEVTK_VERSION_MINOR and CPPDEVTK_VERSION_PATCH
2.2 Search in *.plist for CFBundleShortVersionString and CFBundleVersion
2.3 Modify in AndroidManifest.xml files versionName and versionCode
2.4 Update in Doxyfile PROJECT_NUMBER
2.5 Update Version in cppdevtk.spec and debian changelog

3. (optional) Copy customization files (if needed)

4. Update translations (run cppdevtk/scripts/translate.* (bat/sh))

5. Update documentation (run doxygen ./Doxyfile)


6. Build
6.1 On Windows/Linux build from Qt Creator
- make sure to select Release configuration
On Linux add in Qt Creator, Build Steps:
static:
CONFIG+=release CONFIG+=static
shared:
CONFIG+=release CONFIG+=shared

6.2 Mac
Qt Creator does not work on Mac OS X 10.4 so use CLI...
Open terminal in cppdevtk

static:
> export PATH=/opt/cososys/third_party/static/bin:$PATH
> qmake ./cppdevtk.pro -r -spec macx-g++ CONFIG+=release CONFIG+=static

shared:
> export PATH=/opt/cososys/third_party/shared/bin:$PATH
> qmake ./cppdevtk.pro -r -spec macx-g++ CONFIG+=release CONFIG+=shared

make
make -j1 install


Android:
shared:
CONFIG+=release CONFIG+=shared


iOS:
static:
CONFIG+=release CONFIG+=static




RPM: rpmbuild -ta cppdevtk-1.0.0.tar.bz2
Deb: debuild --no-tgz-check -D -us -uc -B
